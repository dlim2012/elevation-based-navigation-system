<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
        <title>EleNA</title>

        <!-- leaflet css -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
        <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" /> -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="lib/leaflet/plugins/css/easy-button.css" />
        <link rel="stylesheet" href="lib/leaflet/plugins/css/leaflet-sidebar.modified.css" />
        <link rel="stylesheet" href="lib/leaflet/plugins/css/L.cascadeButtons.css" />
        <link rel="stylesheet" href="lib/leaflet/plugins/css/leaflet.contextmenu.css" />
        <link rel="stylesheet" href="lib/leaflet/plugins/css/leaflet-distance-marker.css" />
        <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/1.5.2/css/ionicons.min.css">
        <!-- <link rel="stylesheet" href="lib/leaflet/plugins/css/leaflet.awesome-markers.css" /> -->
        <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css" rel="stylesheet">
        <!-- <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css"> -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css">

        
    </head>
    <body>
        <div id="sidebar" class="leaflet-sidebar collapsed">

            <!-- nav tabs -->
            <div class="leaflet-sidebar-tabs">
                <!-- top aligned tabs -->
                <ul role="tablist">
                    <li><a href="#home" role="tab"><i class="fa fa-bars active"></i></a></li>
                    <li><a href="#paths" role="tab"><i class="fa-solid fa-route"></i></a></li>
                    <!-- <li><a href="#about" role="tab"><i class="fa fa-walking"></i></a></li>
                    <li><a href="#setting" role="tab"><i class="fa fa-person-biking"></i></a></li>
                    <li><a href="#driving" role="tab"><i class="fa fa-car-side"></i></a></li> -->
                    <li><a href="#parameters" role="tab"><i class="fa fa-sliders"></i></a></li>
                    <li><a href="#checkpoints" role="tab"><i class="fa-solid fa-share-nodes"></i></a></li>
                    <li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
                </ul>
    
                <!-- bottom aligned tabs -->
                <ul role="tablist">
                    <li><a href="#github" role="tab"><i class="fa-brands fa-github"></i></a></li>
                </ul>
            </div>
    
            <!-- panel content -->
            <div class="leaflet-sidebar-content">
                <div class="leaflet-sidebar-pane" id="home">
                    <h1 class="leaflet-sidebar-header">
                        Project EleNa
                        <!-- Elevation-based Navigation system -->
                        <span class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></span>
                    </h1>
                    <!-- <br>
                    <font size="4">
                        <b> ELEvation-based NAvigation system</b>
                    </font> -->
                    <!-- <br> -->
                    <!-- <br>
                    <font size="3">
                        <b>Elevation-based navigation system</b>
                    </font> -->
                    <br>
                    <span style="font-size: 15.0pt; ">
                    <b>Elevation based Navigation system</b>
                    </span>
                    <br>
                    <br>
<!--                    <font size="2">-->
                        <b>Introduction: </b>Navigation systems optimize for the shortest or fastest route. However, they do not consider elevation gain. Letâ€™s say you are hiking or biking from one location to another. You may want to literally go the extra mile if that saves you a couple thousand feet in elevation gain. Likewise, you may want to maximize elevation gain if you are looking for an intense yet time-constrained workout.
                        <br>
                        <br>
                        <b>Goal:</b> Given a start and an end location, search for a route that maximizes or minimizes elevation gain, while limiting the total distance between the two locations to x% of the shortest path.
<!--                    </font>-->

                </div>

                <div class="leaflet-sidebar-pane" id="paths">
                    <h1 class="leaflet-sidebar-header">
                        Paths
                        <span class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></span>
                    </h1>
                    <br>
                    <b>Transportation Type (U.S. Mainland)</b>
                    <form>
                        <input type="radio" id="Hiking" name="transportation_type" value="1" checked="checked">
                        <label for="javascript">Hiking</label><br>
                        <input type="radio" id="Cycling" name="transportation_type" value="2" disabled>
                        <label for="javascript">Cycling</label><br>
                        <input type="radio" id="Cycling2" name="transportation_type" value="3">
                        <label for="javascript">Cycling with road restrictions</label><br>
<!--                        <input type="radio" id="Driveway" name="transportation_type" value="4" checked="checked">-->
<!--                        <label for="javascript">Demo - simple driveway</label><br>-->
<!--                        <input type="radio" id="Driveway2" name="transportation_type" value="5">-->
<!--                        <label for="javascript">Demo - simple driveway with restrictions</label><br>-->
                    <br>
                    <b>Paths to show</b>
                    <br>
                    <input type="checkbox" id="shortest-length" name="shortest_length" value="1" checked="checked">
                    <label for="javascript">Shortest length (Red)</label><br>
                    <input type="checkbox" id="minimize-elevation" name="minimize_elevation" value="2" checked="checked">
                    <label for="javascript">Minimize elevation gain (Blue)</label><br>
                    <input type="checkbox" id="maximize-elevation" name="maximize_elevation" value="3" checked="checked">
                    <label for="javascript">Maximize elevation gain (Green)</label>
                    <br>
                    </form>
                </div>          
                


                <div class="leaflet-sidebar-pane" id="parameters">

                    <h1 class="leaflet-sidebar-header">
                        Parameters
                        <span class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></span>
                    </h1>
                    <br>
                    <b>Target Computation Time for Elevation Gain Maximization</b><br>
                    - Computation may take longer if requested separately.
                    <form>
                        <input type="radio" id="computation-0" name="computation_time" value="0" checked="checked">
                        <label for="javascript"> Minimal </label><br>
                        <input type="radio" id="computation-1" name="computation_time" value="2">
                        <label for="javascript"> 2 seconds </label><br>
                        <input type="radio" id="computation-2" name="computation_time" value="5">
                        <label for="javascript"> 5 seconds </label><br>
                        <input type="radio" id="computation-3" name="computation_time" value="15">
                        <label for="javascript"> 15 seconds </label><br>
                        <input type="radio" id="computation-4" name="computation_time" value="30">
                        <label for="javascript"> 30 seconds </label><br>
                        <input type="radio" id="computation-5" name="computation_time" value="60">
                        <label for="javascript"> 60 seconds </label><br>
                        <input type="radio" id="computation-6" name="computation_time" value="120">
                        <label for="javascript"> 120 seconds </label><br>
                    </form>
                    <br>
                    <br>
                    <b>Duplicate Edge Policy Between Two Locations</b><br>
                    <form>
                        <input type="radio" id="allow-duplicate-edges" name="duplicate_edge_policy" value="1">
                        <label for="javascript">Allow duplicate edges</label><br>
                        <input type="radio" id="no-duplicate-directed-edges" name="duplicate_edge_policy" value="2">
                        <label for="javascript">Minimize duplicate directed edges</label><br>
                        <input type="radio" id="no-duplicate-edges" name="duplicate_edge_policy" value="3" checked="checked">
                        <label for="javascript">Minimize duplicate edges</label><br>
                    <br>
                    </form>
                </div>

                <div class="leaflet-sidebar-pane" id="checkpoints">
                    <h1 class="leaflet-sidebar-header">
                        Checkpoints
                        <span class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></span>
                    </h1>
                    <br>
                    <!-- <font size="2.4"> -->
                    <b>Multiple Search Along Checkpoints</b><br>
                    <!-- </font> -->
                    <table class="ckptTable" id="ckptTable" style="width:100%">
                        <thead>
                          <tr>
                            <th class="header-label" width="8%">#</th>
                            <th class="header-label" width="27%">Latitude</th>
                            <th class="header-label" width="27%">Longitude</th>
                            <th class="header-label" width="10%">Max Length Ratio</th>
                            <th class="header-label" width="28%">Search Path / Remove</th>
                          </tr>
                        <tbody>
                          <tr id="ckpt-tr-0" draggable="true">
                            <td><button class="ckpt-button">Start</button></td>
                            <td><input type="number" step="any" id="ckpt-0-lat"></td>
                            <td><input type="number" step="any" id="ckpt-0-lng"></td>
                            <td><input type="number" step="0.01" id="ckpt-0-r"></td>
                            <td>
<!--                                <button id="search-0"><i class="fa-solid fa-route"></i></button>-->
                                <button><i class="fa-solid fa-route"></i></button>
                                <button><i class="fa-solid fa-minus" id="ckpt-0-remove"></i></button>
                            </td>
                            <!-- <td></td> -->
                          </tr>
                          <tr id="ckpt-tr-1" draggable="true">
                            <td><button class="ckpt-button">1</button></td>
                            <td><input type="number" step="any" id="ckpt-1-lat"></td>
                            <td><input type="number" step="any" id="ckpt-1-lng"></td>
                            <td><input type="number" step="0.01" id="ckpt-1-r"></td>
                            <td>
                                <button><i class="fa-solid fa-route"></i></button>
                                <button><i class="fa-solid fa-minus" id="ckpt-1-remove"></i></button>
                            </td>
                          </tr>
                          <tr id="ckpt-tr-2" draggable="true">
                            <td><button class="ckpt-button">2</button></td>
                            <td><input type="number" step="any" id="ckpt-2-lat"></td>
                            <td><input type="number" step="any" id="ckpt-2-lng"></td>
                            <td><input type="number" step="0.01" id="ckpt-2-r"></td>
                            <td>
                                <button><i class="fa-solid fa-route"></i></button>
                                <button><i class="fa-solid fa-minus" id="ckpt-2-remove"></i></button>
                            </td>
                          </tr>
                          <tr id="ckpt-tr-+">
                            <td><button id="add-ckpt-row"><i class="fa-solid fa-plus"></i></button></td>
                            <td><input type="number" id="ckpt-+-lat" disabled></td>
                            <td><input type="number" id="ckpt-+-lng" disabled></td>
                            <td><input type="number" step="0.01" id="ckpt-+-r" disabled></td>
                            <td></td>
                          </tr>
                          <tr id="ckpt-tr-3" draggable="true">
                              <td><button class="ckpt-button">3</button></td>
                              <td><input type="number" step="any" id="ckpt-3-lat"></td>
                              <td><input type="number" step="any" id="ckpt-3-lng"></td>
                              <td><input type="number" step="0.01" id="ckpt-3-r"></td>
                              <td>
                                  <button><i class="fa-solid fa-route" id="search-all"></i></button>
                                  <button><i class="fa-solid fa-minus" id="ckpt-3-remove"></i></button>
                              </td>
                          </tr>
<!--                          <tr id="ckpt-tr-4" draggable="true">-->
<!--                            <td><button class="ckpt-button">End</button></td>-->
<!--                            <td><input type="number" id="ckpt-4-lat"></td>-->
<!--                            <td><input type="number" id="ckpt-4-lng"></td>-->
<!--                            <td><input type="number" step="0.01" id="ckpt-4-r" disabled></td>-->
<!--                            <td>-->
<!--                                <button><i class="fa-solid fa-route" id="search-all"></i></button>-->
<!--                                <button><i class="fa-solid fa-minus" id="ckpt-4-remove"></i></button>-->
<!--                            </td>-->
<!--                          </tr>-->
                        </tbody>
                      </table>
                    <div id="results">

                    </div>
                </div>  

                <div class="leaflet-sidebar-pane" id="settings">
                    <h1 class="leaflet-sidebar-header">
                        Settings
                        <span class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></span>
                    </h1>
                    <!-- <b>Others</b><br> -->
                    <br>

                    <b>Automatic path search</b><br>
                    <input type="checkbox" id="auto-search-on-marker-drag" name="auto_search" checked="checked">
                    <label for="javascript">Marker drag</label><br>
                    <input type="checkbox" id="auto-search-on-marker-remove" name="auto_search" checked="checked">
                    <label for="javascript">Marker remove</label><br>
                    <input type="checkbox" id="auto-search-on-show-path" name="auto_search" checked="checked">
                    <label for="javascript">Show path</label><br>

                    <br>
                    <b>Max Length Ratio</b><br>
                    <input type="checkbox" id="unified-max-length-ratio"  checked="checked">
                    <label for="javascript">Use same max length ratio for each checkpoint</label><br>
                    <br>
                    <b>Checkpoints Table</b><br>
                    <input type="radio" id="ckpt-table-drag-and-drop" name="ckpt-table-drag-policy" value="1" checked="checked">
                    <label for="javascript">Drag and drop</label><br>
                    <input type="radio" id="ckpt-table-drag-and-switch" name="ckpt-table-drag-policy" value="2">
                    <label for="javascript">Drag and switch</label><br>
                    <br>
                    <b>Recalculate path</b><br>
                    <input type="checkbox" id="search-again" value="1">
                    <label for="javascript">Allow recalculating path for elevation-maximization</label><br>

                    <br>
                    <b>Show distance</b><br>
                    <input type="checkbox" id="show-distance" value="1">
                    <label for="javascript">Show distance marker along the path</label><br>


                </div>

                <div class="leaflet-sidebar-pane" id="github">
                    <h1 class="leaflet-sidebar-header">
                        GitHub
                        <span class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></span>
                    </h1>
                    <br>
<!--                    <b>Current Issues</b><br>-->
<!--                    -Backend server can be turned off due to SIGPIPE (broken pipe) error. (It will automatically be online in 30 minutes.)<br>-->
<!--                    <br>-->
                    <b>Contributions</b><br>
                    -Creator: Jung Hoon Lim (junghoonlim@umass.edu)<br>
                    <br>
                    <b>Used Sources</b><br>
                    -Road Data:
                        <a href="https://www.openstreetmap.org/"> OpenStreetMap</a>,
                        <a href="https://github.com/Jorl17/open-elevation">Open-Elevation</a>,
                        <a href="https://giscience.github.io/openrouteservice/documentation/Tag-Filtering.html">Tag Filtering</a><br>
                    -Database:
                        <a ref="https://osm2pgsql.org/">OSM2PGSQL</a>,
                        <a href="https://www.postgresql.org/">PostgreSQL</a> v15 with
                            <a href="https://postgis.net/">PostGIS extension</a><br>
                    -Backend: C++17 <br>
                    -C++ dependencies:
                        <a href="https://pqxx.org/libpqxx/">Libpqxx</a> (connection to database),
                        <a href="https://crowcpp.org/master/">Crowcpp</a> (REST API),
                        <a href="https://github.com/elnormous/HTTPRequest">HTTPRequest</a>,
                        <a href="https://www.boost.org/">Boost Libraries</a> <br>
                    -Frontend:
                        HTML5, JavaScript,
                        <a href="https://leafletjs.com/reference.html#icontrol">Leaflet</a>,
                        <a href="https://fontawesome.com/">Font Awesome</a><br>
                    -Leaflet plugins:
                        <a href="https://github.com/CliffCloud/Leaflet.EasyButton">L.EasyButton</a>,
                        <a href="https://github.com/lennardv2/Leaflet.awesome-markers">Leaflet.Awesome-Markers</a>,
                        <a href="https://github.com/noerw/leaflet-sidebar-v2">leaflet-sidebar-v2</a>,
                        <a href="https://github.com/aratcliffe/Leaflet.contextmenu">Leaflet.contextmenu</a>,
                        <a href="https://github.com/adoroszlai/leaflet-distance-markers">leaflet-distance-markers</a>,
                        <a href="https://github.com/perliedman/leaflet-control-geocoder">Control.GeoCoder</a><br>
                    -Tile layers:
                        OpenStreetMap default,
                        <a href="https://carto.com/basemaps/">Carto maps</a>,
                        <a href="https://developers.google.com/maps/documentation/tile">Google maps</a><br>
                    <br>
                    <b>Path search algorithms</b><br>
                    -Minimize elevation gain: Dijkstra's algorithm (optimal)<br>
                    -Maximizing elevation gain: a genetic algorithm (metaheuristic)<br>
                    <br>
                    <b>GitHub Link:</b> <a href="https://github.com/dlim2012/elevation-based-navigation-system">"https://github.com/dlim2012/elevation-based-navigation-system" </a>

                </div>


            </div>
        </div>
        <div id="map">
            <div class="leaflet-control coordinate"></div>
        </div>

        
    </body>
</html>

<!-- leaflet js -->
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
<script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>


<script type="module" src="js/script.js"></script>
<script src="lib/leaflet/plugins/js/easy-button.js"></script>
<script src="lib/leaflet/plugins/js/leaflet-sidebar.js"></script>
<script src="lib/leaflet/plugins/js/L.cascadeButtons.js"></script>
<script src="lib/leaflet/plugins/js/leaflet.contextmenu.js"></script>
<script src="lib/leaflet/plugins/js/leaflet.awesome-markers.modified.js"></script>
<!--<script src="lib/leaflet/plugins/js/Control.Loading.js"></script>-->
<script src="lib/leaflet/plugins/js/leaflet-distance-marker.js"></script>
<script src="lib/leaflet/plugins/js/leaflet.geometryutil.js"></script>